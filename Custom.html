<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Custom Puzzle</title>
    <link rel="stylesheet" href="style.css">
</head>
<body class="Custom">
    <!-- Sidebar -->
    <div class="sidenav" id="sidenav">
        <button class="toggleButton" onclick="toggleSidebar()">☰ Open/Close Sidebar</button>
        <a class="main-menu-link" href="main_menu.html">Return to Main</a>
        <!-- Form for choosing puzzle size -->
        <form id="sizeForm" onsubmit="return false;">
            <label for="sizeDropdown">Choose Size:</label>
            <select id="sizeDropdown" onchange="changePuzzleSize()">
                <option value="" disabled selected>Choose One</option>
                <!-- Options for puzzle size -->
                <option value="2">2x2</option>
                <option value="3">3x3</option>
                <option value="4">4x4</option>
                <option value="5">5x5</option>
                <option value="6">6x6</option>
                <option value="7">7x7</option>
                <option value="8">8x8</option>
                <option value="9">9x9</option>
                <option value="10">10x10</option>
                <option value="11">11x11</option>
            </select>
        </form>
        <!-- Form for uploading image -->
        <form id="uploadForm" action="#" method="post">
            <input type="file" id="imageInput" accept="image/*" style="display: none;" onchange="handleImage()">
            <a href="#" onclick="document.getElementById('imageInput').click();">Choose Image</a>
            <input type="submit" value="Load Image" style="display: none;">
        </form>
        <button class="previewButton" onclick="previewCompletedPuzzleCustom()">Preview Completed Puzzle</button>
    </div>

    <!-- Main Content -->
    <main class="content" id="content">
        <!-- Title and puzzle board -->
        <h1 class="counter">Custom Puzzle</h1>
        <br>
        <div id="board"></div>
        <!-- Turns counter -->
        <h2 class="counter">Turns: <span id="turns">0</span></h2>
        <!-- Container for puzzle pieces -->
        <div class="pieces-container" id="pieces"></div>
        <!-- Button to check puzzle -->
        <button onclick="checkPuzzle()">Check Puzzle</button>
    </main>

    <!-- Preview popup -->
    <div id="previewPopup" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closePreviewPopup()">&times;</span>
            <img id="previewImage" src="" alt="Preview Completed Puzzle">
        </div>
    </div>

    <!-- Congratulations popup -->
    <div id="congratulationsPopup" class="modal">
        <div class="modal-content">
            <span class="close" onclick="hideCongratulationsPopup()">&times;</span>
            <h2>👏Congratulations!👏</h2>
            <p>🎉🎈The puzzle is solved correctly.🎈🎉</p>
            <!-- Buttons for playing again or returning to menu -->
            <button onclick="playAgain()">Play Again ⟳</button>
            <button onclick="returnToMenu()">Return to Menu ⾕</button>
        </div>
    </div>

    <!-- JavaScript -->
    <script src="script.js"></script>
</body>
</html>
